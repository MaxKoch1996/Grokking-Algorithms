#Во внутренней работе вашего компьютера используется стек, называемый стеком вызовов. Давайте посмотрим, как он работает. Предположим, имеется простая функция:

def greet(name):
    print("hello, " + name + "!") 
    greet2(name)
    print("getting ready to say bye...") 
    bye()

#Эта функция приветствует вас, после чего вызывает две другие функции.
#Вот эти две функции:

def greet2(name):
 print("how are you, " + name + "?")
def bye():
 print("ok bye!")



# Предположим, в программе используется вызов greet("maggie"). Сначала ваш компьютер выделяет блок памяти для этого вызова функции.

# Затем эта память используется. Переменной name присваивается значение "maggie"; оно должно быть сохранено в памяти.

# Каждый раз, когда вы вызываете функцию, компьютер сохраняет в памяти значения всех переменных для этого вызова. Далее выводится приветствие hello, maggie!, 
# после чего следует второй вызов greet2("maggie"). И снова компьютер выделяет блок памяти для вызова функции.

# Ваш компьютер объединяет эти блоки в стек. Второй блок создается над первым. Вы выводите сообщение how are you, maggie?, 
# после чего возвращаете управление из вызова функции. Когда это происходит, блок на вершине стека извлекается из него.

# Теперь верхний блок в стеке относится к функции greet; это означает, что вы вернулись к функции greet. При вызове функции greet2 функция greet еще не была завершена. 
# Здесь-то и скрывается истинный смысл этого раздела: когда вы вызываете функцию из другой функции, вызывающая функция
# приостанавливается в частично завершенном состоянии. Все значения переменных этой функции остаются в памяти. А когда выполнение функции
# greet2 будет завершено, вы вернетесь к функции greet и продолжите ее
# выполнение с того места, где оно прервалось. Сначала выводится сообщение
# getting ready to say bye…, после чего вызывается функция bye. 

# Блок для этой функции добавляется на вершину стека. Далее выводится
# сообщение ok bye! с выходом из вызова функции.

# Управление снова возвращается функции greet. Делать больше нечего, так
# что управление возвращается и из функции greet. Этот стек, в котором сохранялись переменные разных функций, называется стеком вызовов.

#Когда вы вызываете функцию из другой функции, вызывающая функция приостанавливается в частично завершенном состоянии. 